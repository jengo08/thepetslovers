<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Perfil de Mascota ¬∑ The Pets Lovers</title>

  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <!-- TPL: INICIO BLOQUE NUEVO [Estilos locales del formulario de mascota] -->
  <style>
    :root{
      --tpl-color:#339496; --tpl-text:#58425a; --tpl-border:#ececec; --tpl-muted:#666; --tpl-bg:#fff;
    }
    .tpl-page { padding-top: 110px; }
    .tpl-wrap { max-width: 920px; margin: 0 auto; padding: 16px; }
    .tpl-card {
      background: var(--tpl-bg); border:1px solid var(--tpl-border);
      border-radius: 14px; padding: 16px; box-shadow: 0 2px 10px rgba(0,0,0,.04);
    }
    .tpl-card h1 { margin:0 0 6px; }
    .tpl-card p.lead { color: var(--tpl-muted); margin:0 0 16px; }

    form.tpl-form { display:grid; gap:18px; }
    .tpl-row { display:grid; grid-template-columns:1fr; gap: 12px; }
    @media(min-width:840px){ .tpl-row { grid-template-columns: 1fr 1fr; } }
    .tpl-field { display:flex; flex-direction:column; gap:6px; }
    .tpl-field label { font-weight:600; color:var(--tpl-text); }
    .tpl-input, .tpl-select, .tpl-textarea {
      border:1px solid var(--tpl-border); border-radius:10px; padding:10px 12px; font:inherit; color:#222; background:#fff;
    }
    .tpl-textarea { min-height: 96px; resize: vertical; }
    .tpl-help { font-size:.9rem; color:var(--tpl-muted); }

    /* Avatar circular + overlay de texto */
    .tpl-avatar {
      position:relative; display:flex; align-items:center; gap:14px; padding:12px;
      border:1px dashed var(--tpl-border); border-radius:14px; background:#fafafa;
    }
    .tpl-avatar-thumb{
      width:96px; height:96px; border-radius:50%; object-fit:cover; border:2px solid var(--tpl-border); background:#fff;
    }
    .tpl-avatar-hint{
      position:absolute; left:12px; width:96px; height:96px; display:flex; align-items:center; justify-content:center;
      text-align:center; padding:10px; font-size:.8rem; color:#777; pointer-events:none;
    }
    .tpl-avatar.has-image .tpl-avatar-hint{ display:none; }

    .tpl-actions { display:flex; gap:10px; flex-wrap:wrap; }
    .tpl-btn {
      display:inline-flex; align-items:center; gap:8px; justify-content:center;
      border-radius:10px; padding:10px 14px; border:1px solid var(--tpl-border);
      text-decoration:none; font-weight:600; color:#fff; background: var(--tpl-color);
    }
    .tpl-btn.secondary{ background:#fff; color:var(--tpl-text); }

    /* Agrupadores visuales */
    .tpl-section-title{ margin:8px 0 4px; font-weight:700; color:var(--tpl-text); }
    .tpl-sep{ height:1px; background:#f0f0f0; border:0; }

    .sr-only{position:absolute!important;width:1px;height:1px;clip:rect(1px,1px,1px,1px);overflow:hidden;white-space:nowrap}
  </style>
  <!-- TPL: FIN BLOQUE NUEVO -->

  <!-- TPL: INICIO BLOQUE NUEVO [Modo seguro para evitar redirecciones del navbar] -->
  <script>window.__TPL_SAFE_MODE__ = true;</script>
  <!-- TPL: FIN BLOQUE NUEVO -->
</head>
<body>

  <!-- TPL: INICIO BLOQUE NUEVO [Navbar inyectable + fallback] -->
  <div id="tpl-navbar">
    <noscript>
      <nav class="navbar">
        <div class="logo">
          <a href="index.html"><img src="images/logo.png.png" alt="The Pets Lovers"></a>
        </div>
        <a href="index.html" class="home-button">Inicio</a>
        <ul class="nav-links">
          <li><a href="como-funciona.html">C√≥mo funciona</a></li>
          <li><a href="servicios.html">Servicios</a></li>
          <li><a href="index.html#contactanos">Cont√°ctanos</a></li>
          <li><a href="index.html#hazte-cuidador">Convi√©rtete en cuidador</a></li>
        </ul>
        <a class="login-button" href="#iniciar-sesion">Iniciar sesi√≥n</a>
      </nav>
    </noscript>
  </div>
  <!-- TPL: FIN BLOQUE NUEVO -->

  <main class="container tpl-page">
    <div class="tpl-wrap">
      <div class="tpl-card">
        <h1>Nueva mascota</h1>
        <p class="lead">Completa los datos. La foto se usa solo para mostrarla en tu perfil (vista temporal).</p>

        <form class="tpl-form" id="tpl-pet-form" novalidate>
          <!-- ========== Datos de tu mascota ========== -->
          <div class="tpl-section-title">üê∂ Datos de tu mascota</div>
          <hr class="tpl-sep" aria-hidden="true"/>

          <!-- Foto -->
          <div class="tpl-field">
            <label for="foto">Foto de la mascota (opcional)</label>
            <div class="tpl-avatar" id="avatarBox">
              <img id="preview" class="tpl-avatar-thumb" src="images/pet-placeholder.png" alt="Foto de la mascota">
              <div class="tpl-avatar-hint">Sube foto de tu mascota</div>
              <div style="margin-left:120px">
                <input class="tpl-input" type="file" id="foto" name="foto" accept="image/*" aria-describedby="foto-help">
                <div class="tpl-help" id="foto-help">Se mostrar√° en tu perfil en formato circular. No se guarda en servidor.</div>
              </div>
            </div>
          </div>

          <!-- Descripci√≥n (opcional) -->
          <div class="tpl-field">
            <label for="descripcion">Descripci√≥n (opcional)</label>
            <textarea id="descripcion" name="descripcion" class="tpl-textarea" placeholder="Rasgos, gustos, miedos..."></textarea>
          </div>

          <!-- Nombre + Microchip -->
          <div class="tpl-row">
            <div class="tpl-field">
              <label for="nombre">Nombre de tu mascota <span aria-hidden="true">*</span></label>
              <input class="tpl-input" type="text" id="nombre" name="nombre" required placeholder="Luna, Max...">
            </div>
            <div class="tpl-field">
              <label for="microchip">N√∫mero de microchip <span aria-hidden="true">*</span></label>
              <div style="display:flex; gap:8px; align-items:center;">
                <input class="tpl-input" type="text" id="microchip" name="microchip" required placeholder="Ej. 9851230...">
                <label style="display:flex;gap:6px;align-items:center;">
                  <input type="checkbox" id="microchip_no_tiene"> <span>No tiene</span>
                </label>
              </div>
              <div class="tpl-help">Si marcas ‚ÄúNo tiene‚Äù, guardaremos ese estado.</div>
            </div>
          </div>

          <!-- Especie y raza -->
          <div class="tpl-row">
            <div class="tpl-field">
              <label for="especie">Especie <span aria-hidden="true">*</span></label>
              <select class="tpl-select" id="especie" name="especie" required>
                <option value="">Selecciona‚Ä¶</option>
                <option value="Perro">Perro</option>
                <option value="Gato">Gato</option>
                <option value="Ex√≥tico">Ex√≥tico</option>
                <option value="Otro">Otro</option>
              </select>
            </div>
            <div class="tpl-field">
              <label for="raza" id="label-raza">Raza <span aria-hidden="true">*</span></label>
              <input class="tpl-input" list="tpl-breed-list" id="raza" name="raza" required placeholder="Elige o escribe‚Ä¶">
              <datalist id="tpl-breed-list"></datalist>
              <div class="tpl-help">Si eliges ‚ÄúEx√≥tico‚Äù, aqu√≠ ver√°s tipos: P√°jaro, Conejo, Hur√≥n, etc.</div>
            </div>
          </div>

          <!-- Edad / Peso / Esterilizado / Vacunas -->
          <div class="tpl-row">
            <div class="tpl-field">
              <label for="edad">Edad aproximada <span aria-hidden="true">*</span></label>
              <input class="tpl-input" type="text" id="edad" name="edad" required placeholder="3 a√±os, 6 meses‚Ä¶">
            </div>
            <div class="tpl-field">
              <label for="peso">Peso (kg) <span aria-hidden="true">*</span></label>
              <input class="tpl-input" type="number" id="peso" name="peso" step="0.1" min="0" required placeholder="Ej. 12.5">
            </div>
          </div>

          <div class="tpl-row">
            <div class="tpl-field">
              <label for="esterilizado">¬øEst√° esterilizado/a? <span aria-hidden="true">*</span></label>
              <select class="tpl-select" id="esterilizado" name="esterilizado" required>
                <option value="">Selecciona‚Ä¶</option>
                <option>S√≠</option><option>No</option>
              </select>
            </div>
            <div class="tpl-field">
              <label for="vacunas">¬øEst√° al d√≠a de vacunas y desparasitaci√≥n? <span aria-hidden="true">*</span></label>
              <select class="tpl-select" id="vacunas" name="vacunas" required>
                <option value="">Selecciona‚Ä¶</option>
                <option>S√≠</option><option>No</option>
              </select>
            </div>
          </div>

          <!-- Salud y rutinas -->
          <div class="tpl-field">
            <label for="salud">¬øTiene alguna patolog√≠a o tratamiento que debamos conocer? <span aria-hidden="true">*</span></label>
            <textarea id="salud" name="salud" class="tpl-textarea" required placeholder="Describir brevemente"></textarea>
          </div>

          <div class="tpl-row">
            <div class="tpl-field">
              <label for="tratamiento">V√≠a de administraci√≥n de tratamiento, dosis y horario</label>
              <textarea id="tratamiento" name="tratamiento" class="tpl-textarea" placeholder="Oral/inyectable, dosis, horas‚Ä¶"></textarea>
            </div>
            <div class="tpl-field">
              <label for="comidas">Horario de comidas y dosis</label>
              <textarea id="comidas" name="comidas" class="tpl-textarea" placeholder="Ma√±ana/tarde, gramos‚Ä¶"></textarea>
            </div>
          </div>

          <div class="tpl-row">
            <div class="tpl-field">
              <label for="salidas">¬øCu√°ntas veces sale a la calle?</label>
              <input class="tpl-input" type="number" id="salidas" name="salidas" min="0" step="1" placeholder="Ej. 3">
            </div>
            <div class="tpl-field">
              <label for="tamano">Tama√±o</label>
              <select class="tpl-select" id="tamano" name="tamano">
                <option value="">Selecciona‚Ä¶</option>
                <option>Mini</option><option>Peque√±o</option><option>Mediano</option><option>Grande</option><option>Gigante</option>
              </select>
            </div>
          </div>

          <div class="tpl-row">
            <div class="tpl-field">
              <label for="clinica">Cl√≠nica veterinaria habitual</label>
              <input class="tpl-input" type="text" id="clinica" name="clinica" placeholder="Nombre de la cl√≠nica">
            </div>
            <div class="tpl-field">
              <label for="hospitalPref">¬øQu√© hospital prefer√≠s en caso de urgencia?</label>
              <input class="tpl-input" type="text" id="hospitalPref" name="hospitalPref" placeholder="Nombre del hospital">
            </div>
          </div>

          <div class="tpl-field">
            <label for="comportamiento">¬øC√≥mo se comporta con otros animales y personas? <span aria-hidden="true">*</span></label>
            <textarea id="comportamiento" name="comportamiento" class="tpl-textarea" required placeholder="Sociable, nervioso, ladra a otros perros, etc."></textarea>
          </div>

          <!-- ========== Servicios que te interesan ========== -->
          <div class="tpl-section-title">üè° Servicios que te interesan</div>
          <hr class="tpl-sep" aria-hidden="true"/>

          <div class="tpl-field">
            <label for="descServicios">Descripci√≥n (opcional)</label>
            <textarea id="descServicios" name="descServicios" class="tpl-textarea" placeholder="Ind√≠canos requisitos o preferencias"></textarea>
          </div>

          <div class="tpl-field">
            <span class="sr-only" id="servicios-legend">Qu√© tipo de servicio est√°s buscando</span>
            <label class="tpl-section-title" aria-labelledby="servicios-legend">¬øQu√© tipo de servicio est√°s buscando? <span aria-hidden="true">*</span></label>
            <div style="display:grid; grid-template-columns:1fr; gap:6px;">
              <label><input type="checkbox" name="servicios" value="Visitas a domicilio" id="srv-visitas"> Visitas a domicilio</label>
              <label><input type="checkbox" name="servicios" value="Estancia en casa de cuidador"> Estancia en casa de cuidador</label>
              <label><input type="checkbox" name="servicios" value="Paseos"> Paseos</label>
              <label style="display:flex;gap:8px;align-items:center;">
                <input type="checkbox" id="srv-otra" name="servicios" value="Otra"> Otra‚Ä¶
                <input class="tpl-input" type="text" id="otra-detalle" name="otraDetalle" placeholder="Describe" style="flex:1" disabled>
              </label>
            </div>
            <div class="tpl-help">Marca al menos una opci√≥n.</div>
          </div>

          <div class="tpl-row">
            <div class="tpl-field">
              <label for="desde">Fechas aproximadas (desde) <span aria-hidden="true">*</span></label>
              <input class="tpl-input" type="date" id="desde" name="desde" required>
            </div>
            <div class="tpl-field">
              <label for="hasta">Fechas aproximadas (hasta) <span aria-hidden="true">*</span></label>
              <input class="tpl-input" type="date" id="hasta" name="hasta" required>
            </div>
          </div>

          <div class="tpl-field">
            <label for="prioridad">¬øQu√© es lo m√°s importante para ti al confiar el cuidado? <span aria-hidden="true">*</span></label>
            <textarea id="prioridad" name="prioridad" class="tpl-textarea" required placeholder="Confianza, formaci√≥n, seguimiento, etc."></textarea>
          </div>

          <!-- Condicional por ‚ÄúVisitas a domicilio‚Äù -->
          <div class="tpl-field" id="row-camaras" hidden>
            <label for="camaras">¬øTienes c√°maras en casa para seguimiento? (solo en visitas) <span aria-hidden="true">*</span></label>
            <select class="tpl-select" id="camaras" name="camaras">
              <option value="">Selecciona‚Ä¶</option>
              <option>S√≠</option><option>No</option>
            </select>
          </div>

          <!-- ========== Extras opcionales ========== -->
          <div class="tpl-section-title">üì∏ Extras opcionales</div>
          <hr class="tpl-sep" aria-hidden="true"/>

          <div class="tpl-field">
            <label for="fotos">¬øTe gustar√≠a recibir fotos y v√≠deos durante el servicio? <span aria-hidden="true">*</span></label>
            <select class="tpl-select" id="fotos" name="fotos" required>
              <option value="">Selecciona‚Ä¶</option>
              <option>S√≠</option><option>No</option><option>Me da igual</option>
            </select>
          </div>

          <div class="tpl-row">
            <div class="tpl-field">
              <label for="seguroVet">¬øTienes contratado seguro veterinario para tu mascota? <span aria-hidden="true">*</span></label>
              <select class="tpl-select" id="seguroVet" name="seguroVet" required>
                <option value="">Selecciona‚Ä¶</option>
                <option>S√≠</option><option>No</option>
              </select>
              <div id="seguroVetData" class="tpl-field" hidden style="margin-top:8px;">
                <label>Detalles del seguro veterinario</label>
                <div class="tpl-row">
                  <input class="tpl-input" type="text" id="seguroVetComp" placeholder="Compa√±√≠a">
                  <input class="tpl-input" type="text" id="seguroVetNum" placeholder="N¬∫ de p√≥liza">
                </div>
              </div>
            </div>

            <div class="tpl-field">
              <label for="seguroRC">¬øTienes seguro de responsabilidad civil para tu mascota? <span aria-hidden="true">*</span></label>
              <select class="tpl-select" id="seguroRC" name="seguroRC" required>
                <option value="">Selecciona‚Ä¶</option>
                <option>S√≠</option><option>No</option>
              </select>
              <div id="seguroRCData" class="tpl-field" hidden style="margin-top:8px;">
                <label>Detalles del seguro de RC</label>
                <div class="tpl-row">
                  <input class="tpl-input" type="text" id="seguroRCComp" placeholder="Compa√±√≠a">
                  <input class="tpl-input" type="text" id="seguroRCNum" placeholder="N¬∫ de p√≥liza">
                </div>
              </div>
            </div>
          </div>

          <div class="tpl-field">
            <label for="comentarios">¬øQuieres dejarnos alg√∫n comentario o detalle importante?</label>
            <textarea id="comentarios" name="comentarios" class="tpl-textarea" placeholder="Cualquier info adicional √∫til"></textarea>
          </div>

          <div class="tpl-actions">
            <button class="tpl-btn" type="submit"><i class="fa-solid fa-floppy-disk"></i> Guardar y volver al perfil</button>
            <a class="tpl-btn secondary" href="perfil.html"><i class="fa-solid fa-xmark"></i> Cancelar</a>
          </div>
        </form>
      </div>
    </div>
  </main>

  <!-- TPL: INICIO BLOQUE NUEVO [Footer inyectable + fallback] -->
  <div id="tpl-footer">
    <noscript>
      <footer class="site-footer">
        <div class="container footer-row">
          <div class="footer-left">
            <nav class="footer-links-row">
              <a href="sobre-nosotros.html">Sobre nosotros</a><span class="sep">|</span>
              <a href="contacto.html">Contacta con nosotros</a><span class="sep">|</span>
              <a href="donde-estamos.html">D√≥nde estamos</a><span class="sep">|</span>
              <a href="trabaja-con-nosotros.html">Trabaja con nosotros</a><span class="sep">|</span>
              <a href="privacidad.html">Privacidad</a><span class="sep">|</span>
              <a href="condiciones.html">Condiciones</a><span class="sep">|</span>
              <a href="canal-denuncias.html">Canal de denuncias</a>
            </nav>
          </div>
        </div>
      </footer>
    </noscript>
  </div>
  <!-- TPL: FIN BLOQUE NUEVO -->

  <script src="tpl-navbar.js" defer></script>
  <script src="tpl-footer.js" defer></script>
  <script src="tpl-mascota.js" defer></script>
</body>
</html>
